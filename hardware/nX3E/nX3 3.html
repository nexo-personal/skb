
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>nX3 instruction manual &#8212; knowledge base</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="nexo’s Industry 4.0" href="../../software/iot.html" />
    <link rel="prev" title="Welcome to nexo’s documentation!" href="../../index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint">nX3E documentation updated</div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo_small.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">knowledge base</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Table of contents:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   nX3 instruction manual
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../software/iot.html">
   nexo’s Industry 4.0
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/hardware/nX3E/nX3.md.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hardware">
   Hardware
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#collegamenti">
     Collegamenti
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#led-frontale">
     Led frontale
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#memoria-ritentiva">
     Memoria ritentiva
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#software">
   Software
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parametri-nx3">
     Parametri nX3
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#busspeed">
     BusSpeed
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#watchdog">
     Watchdog
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#linee-ethernet">
     Linee Ethernet
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#funzione-setethipaddressex">
     Funzione SetEthIPAddressEx
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#moduli-i-o">
     Moduli I/O
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dispositivi-di-memoria-rimovibili">
     Dispositivi di memoria rimovibili.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#codesys-usb-dongle-key">
     Codesys USB Dongle Key
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#risorse-esterne">
   Risorse Esterne
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>nX3 instruction manual</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hardware">
   Hardware
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#collegamenti">
     Collegamenti
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#led-frontale">
     Led frontale
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#memoria-ritentiva">
     Memoria ritentiva
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#software">
   Software
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#parametri-nx3">
     Parametri nX3
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#busspeed">
     BusSpeed
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#watchdog">
     Watchdog
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#linee-ethernet">
     Linee Ethernet
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#funzione-setethipaddressex">
     Funzione SetEthIPAddressEx
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#moduli-i-o">
     Moduli I/O
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dispositivi-di-memoria-rimovibili">
     Dispositivi di memoria rimovibili.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#codesys-usb-dongle-key">
     Codesys USB Dongle Key
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#risorse-esterne">
   Risorse Esterne
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="nx3-instruction-manual">
<h1>nX3 instruction manual<a class="headerlink" href="#nx3-instruction-manual" title="Permalink to this headline">#</a></h1>
<p>nX3 è un controllore avanzato per automazione industriale programmabile con CODESYS. È stato pensato per soddisfare una vasta gamma di esigenze applicative, può essere utilizzato come semplice controllore logico o come motion controller avanzato grazie alla completa integrazione delle librerie di SoftMotion, CNC e robotica di CODESYS. È governato da un sistema operativo realtime che consente di impostare il tempo di switching delle task di CODESYS sotto al millisecondo (tipicamente fino a 250microsecondi.) con un jitter normalmente contenuto entro i 20 microsecondi.</p>
<figure class="align-default" id="nx3a">
<a class="reference internal image-reference" href="../../_images/nx3a.jpg"><img alt="nX3a" src="../../_images/nx3a.jpg" style="width: 60%;" /></a>
</figure>
<p>Questo manuale descrive l’hardware e le funzionalità software specifiche del controllore neXo nX3.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Per qualsiasi indicazione riguardo la programmazione CODESYS è possibile consultare l’<a class="reference external" href="https://help.codesys.com/">help online di CODESYS</a>.</p>
</div>
<section id="hardware">
<h2>Hardware<a class="headerlink" href="#hardware" title="Permalink to this headline">#</a></h2>
<section id="collegamenti">
<h3>Collegamenti<a class="headerlink" href="#collegamenti" title="Permalink to this headline">#</a></h3>
<figure class="margin align-default" id="id1">
<a class="reference internal image-reference" href="../../_images/image2.png"><img alt="collegamenti" src="../../_images/image2.png" style="width: 100%;" /></a>
</figure>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-center head"><p>Simbolo</p></th>
<th class="text-right head"><p>Funzione</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>+</p></td>
<td class="text-right"><p>power supply +24VDC</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>-</p></td>
<td class="text-right"><p>power supply 0VDC</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>PE</p></td>
<td class="text-right"><p>power supply ground connection</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>↓ ↓</p></td>
<td class="text-right"><p>watchdog relè output</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>ETH0</p></td>
<td class="text-right"><p>ethernet for realtime</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>ETH1</p></td>
<td class="text-right"><p>ethernet</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>CAN H</p></td>
<td class="text-right"><p>CAN High (in CODESYS CAN1)</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>CAN L</p></td>
<td class="text-right"><p>CAN low (in CODESYS CAN1)</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>1</p></td>
<td class="text-right"><p>CAN High (in CODESYS CAN0)</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>2</p></td>
<td class="text-right"><p>CAN Low (in CODESYS CAN0)</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>°</p></td>
<td class="text-right"><p>jumper for CAN termination resistor</p></td>
</tr>
</tbody>
</table>
</section>
<section id="led-frontale">
<h3>Led frontale<a class="headerlink" href="#led-frontale" title="Permalink to this headline">#</a></h3>
<p>Il led frontale multicolore è posizionato a destra della microSD card e assume un colore diverso a seconda degli stati del controllore. Nella tabella di seguito i possibili stati del controllore e relativa segnalazione.</p>
<figure class="margin align-default" id="led">
<a class="reference internal image-reference" href="../../_images/image3.png"><img alt="led" src="../../_images/image3.png" style="width: 100%;" /></a>
</figure>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Significato</p></th>
<th class="head"><p>Colore Led</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>OS in fase di boot</p></td>
<td><p>bianco</p></td>
</tr>
<tr class="row-odd"><td><p>applicazione CODESYS in run</p></td>
<td><p>verde</p></td>
</tr>
<tr class="row-even"><td><p>tensione sotto i 19 volt</p></td>
<td><p>spento</p></td>
</tr>
<tr class="row-odd"><td><p>applicazione CODESYS in stop o assente</p></td>
<td><p>arancio</p></td>
</tr>
<tr class="row-even"><td><p>applicazione CODESYS in exception</p></td>
<td><p>rosso</p></td>
</tr>
</tbody>
</table>
</section>
<section id="memoria-ritentiva">
<h3>Memoria ritentiva<a class="headerlink" href="#memoria-ritentiva" title="Permalink to this headline">#</a></h3>
<p>nX3 effettua la memorizzazione automatica delle variabili dichiarate come ritentive all’interno dell’applicativo CODESYS, la memoria ritentiva massima utilizzabile è di 128kbyte.</p>
<p>Qui un esempio di dichiarazione di variabile ritentiva in un POU</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">VAR</span><span class="w"> </span><span class="n">RETAIN</span><span class="w"></span>
<span class="w">	</span><span class="nl">iRem1</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">INT</span><span class="p">;</span><span class="w"></span>
<span class="n">END_VAR</span><span class="w"></span>
</pre></div>
</div>
<p>Qui un esempio di dichiarazione di variabile ritentiva globale in GVL</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">VAR_GLOBAL</span><span class="w"> </span><span class="n">RETAIN</span><span class="w"></span>
<span class="w">	</span><span class="nl">gvarRem1</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">INT</span><span class="p">;</span><span class="w"></span>
<span class="n">END_VAR</span><span class="w"></span>
</pre></div>
</div>
<p>Quando allo spegnimento la tensione di alimentazione scende sotto i 19VDC entra in funzione il micro UPS integrato di nX3 e le variabili ritentive vengono salvate automaticamente. In questa fase il led frontale viene spento per risparmiare corrente e garantire un tempo utile per il salvataggio.</p>
</section>
</section>
<section id="software">
<h2>Software<a class="headerlink" href="#software" title="Permalink to this headline">#</a></h2>
<section id="parametri-nx3">
<h3>Parametri nX3<a class="headerlink" href="#parametri-nx3" title="Permalink to this headline">#</a></h3>
<p>Un volta creato un progetto per nX3 è possibile, editando il nodo device e selezionando la sheet <em>nX3 CPU Parameters</em>, visualizzare e modificare alcuni parametri che consentono di impostare alcuni funzionamenti del controllore.</p>
<figure class="align-center" id="image4">
<a class="reference internal image-reference" href="../../_images/image4.jpeg"><img alt="image4" src="../../_images/image4.jpeg" style="width: 100%;" /></a>
</figure>
</section>
<section id="busspeed">
<h3>BusSpeed<a class="headerlink" href="#busspeed" title="Permalink to this headline">#</a></h3>
<p>Consente di impostare la velocità del bus di comunicazione con i moduli di I/O locali. E’ impostato per default al valore massimo di 8Mhz. Non dovrebbe mai essere modificato.</p>
</section>
<section id="watchdog">
<h3>Watchdog<a class="headerlink" href="#watchdog" title="Permalink to this headline">#</a></h3>
<p>Il modulo nX3 dispone di un Watchdog connesso ad un rele statico le cui connessioni sono disponibili sul connettore di alimentazione e che permette di verificare costantemente il corretto funzionamento di hardware e software.</p>
<p>Editando il nodo device e selezionando la sheet <em>nX3 CPU I/O Mapping</em> è possibile verificare che è mappata automaticamente una variabile ti tipo BOOL con nome Watchdog. Se lo si desidera in questa sheet è possibile cambiare nome alla variabile.</p>
<figure class="align-center" id="image5">
<a class="reference internal image-reference" href="../../_images/image5.jpeg"><img alt="image5" src="../../_images/image5.jpeg" style="width: 100%;" /></a>
</figure>
<p>Per attivare il watchdog è sufficiente aggiungere la seguente linea di codice nel task che si ritiene rilevante per l’esecuzione della propria automazione.</p>
<p><code class="docutils literal notranslate"><span class="pre">WATCHDOG</span> <span class="pre">:=</span> <span class="pre">TRUE;</span></code></p>
<p>Se in seguito ad un guasto o un errore nel software dell’applicazione la linea contenente il codice non è più eseguita il relè di watchdog si apre.</p>
</section>
<section id="linee-ethernet">
<h3>Linee Ethernet<a class="headerlink" href="#linee-ethernet" title="Permalink to this headline">#</a></h3>
<p>Il modulo dispone di due linee Ethernet: <strong>eth0</strong> e <strong>eth1</strong>.</p>
<p>La linea <strong>eth0</strong> è impostata per default con questi valori:</p>
<p><code class="docutils literal notranslate"><span class="pre">IP=192.168.1.100,</span> <span class="pre">mask=255.255.255.0,</span> <span class="pre">gateway=192.168.1.1,</span> <span class="pre">nameserver=192.168.1.1</span></code></p>
<p>La linea <strong>eth1</strong> è impostata per default con questi valori:</p>
<p><code class="docutils literal notranslate"><span class="pre">IP=192.168.2.100,</span> <span class="pre">mask=255.255.255.0,</span> <span class="pre">gateway=192.168.2.1,</span> <span class="pre">nameserver=192.168.2.1</span></code></p>
<p>Le linee ethernet sono entrambe utilizzabili sia con l’ambiente di sviluppo CODESYS per la programmazione e il debug delle applicazioni sia come etherCAT master. La linea eth0 è quella con minor latenza e consente un jitter leggermente inferiore rispetto alla eth1, ne è pertanto consigliato l’utilizzo per la connessione etherCAT ini particolare quando si sviluppano applicazioni di Motion Control, CNC e robotica.</p>
<p>La libreria <em>nX3CpuSetup 1.0.1.0</em> contiene alcune funzioni che permettono di configurare entrambe le linee Ethernet.</p>
<figure class="align-center" id="image6">
<a class="reference internal image-reference" href="../../_images/image6.png"><img alt="image6" src="../../_images/image6.png" style="width: 100%;" /></a>
</figure>
</section>
<section id="funzione-setethipaddressex">
<h3>Funzione SetEthIPAddressEx<a class="headerlink" href="#funzione-setethipaddressex" title="Permalink to this headline">#</a></h3>
<p>La funzione <code class="docutils literal notranslate"><span class="pre">SetEthIPAddressEx</span></code> permette di impostare l’indirizzo IP, la Subnet Mask, l’indirizzo di Gateway e il Nameserver per entrambe le linee Ethernet.</p>
<figure class="align-center" id="image7">
<a class="reference internal image-reference" href="../../_images/image7.png"><img alt="image7" src="../../_images/image7.png" style="width: 100%;" /></a>
</figure>
<p>Di seguito un esempio di codice che consente di impostare l’interfaccia <strong>eth0</strong>.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">VAR</span><span class="w"></span>
<span class="w">	</span><span class="nl">Error</span><span class="p">:</span><span class="w"> </span><span class="n">nX3</span><span class="p">.</span><span class="n">ERROR</span><span class="p">;</span><span class="w"></span>
<span class="n">END_VAR</span><span class="w"></span>

<span class="nl">Error</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">nX3</span><span class="p">.</span><span class="n">SetEthIPaddressEx</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">192</span><span class="p">,</span><span class="w"> </span><span class="mi">168</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">192</span><span class="p">,</span><span class="w"> </span><span class="mi">168</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">192</span><span class="p">,</span><span class="w"> </span><span class="mi">168</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Di seguito un esempio di codice che consente di impostare l’interfaccia <strong>eth1</strong>.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">VAR</span><span class="w"></span>
<span class="w">	</span><span class="nl">Error</span><span class="p">:</span><span class="w"> </span><span class="n">nX3</span><span class="p">.</span><span class="n">ERROR</span><span class="p">;</span><span class="w"></span>
<span class="n">END_VAR</span><span class="w"></span>

<span class="nl">Error</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">nX3</span><span class="p">.</span><span class="n">SetEthIPaddressEx</span><span class="p">(</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">192</span><span class="p">,</span><span class="w"> </span><span class="mi">168</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">192</span><span class="p">,</span><span class="w"> </span><span class="mi">168</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">192</span><span class="p">,</span><span class="w"> </span><span class="mi">168</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Qualora si desideri impostare le linea con indirizzo assegnato tramite DHCP è possibile utilizzare questo esempio di codice.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">VAR</span><span class="w"></span>
<span class="w">	</span><span class="nl">Error</span><span class="p">:</span><span class="w"> </span><span class="n">nX3</span><span class="p">.</span><span class="n">ERROR</span><span class="p">;</span><span class="w"></span>
<span class="n">END_VAR</span><span class="w"></span>

<span class="nl">Error</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">nX3</span><span class="p">.</span><span class="n">SetEthIPaddressEx</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>La funzione <code class="docutils literal notranslate"><span class="pre">SetEthIPAddressEx</span></code> impiega qualche secondo per effettuare la configurazione, è opportuno chiamarla da un task con priorità più bassa di quello utilizzato per l’automazione in modo da non bloccare l’esecuzione del programma principale.</p>
</div>
</section>
<section id="moduli-i-o">
<h3>Moduli I/O<a class="headerlink" href="#moduli-i-o" title="Permalink to this headline">#</a></h3>
<p>Il controllore nX3 dispone di un bus locale che ne consente l’espansione con i moduli di I/O ProCard realizzati da UFG. Questi possono essere inseriti nel progetto selezionando il device nX3, attivando il menu di contesto (tasto destro del mouse). Appare la finestra di inserimento dispositivi dove sotto la voce Miscellaneous sono elencati i moduli supportati.</p>
<p>Ciascun modulo, una volta inserito nel progetto, dispone di un proprio editor dove la sheet nX3CPU I/O mapping permette di assegnare il nome al punto I/O gestito dal modulo stesso secondo lo standard CODESYS.</p>
</section>
<section id="dispositivi-di-memoria-rimovibili">
<h3>Dispositivi di memoria rimovibili.<a class="headerlink" href="#dispositivi-di-memoria-rimovibili" title="Permalink to this headline">#</a></h3>
<p>nX3 permette di inserire sul frontale una scheda micro SD e una memoria USB.</p>
<p>Tramite le funzioni standard di CODESYS per l’accesso ai file è possibile leggere e scrivere file contenuti in questi dispositivi.</p>
<p>Per accedere al directory principale della scheda micro SD è necessario utilizzare il percorso <code class="docutils literal notranslate"><span class="pre">/media/mmcblk1p1/</span></code>.</p>
<p>Per accedere al directory principale della memoria USB è necessario utilizzare il percorso <code class="docutils literal notranslate"><span class="pre">/media/sda1/</span></code>.</p>
</section>
<section id="codesys-usb-dongle-key">
<h3>Codesys USB Dongle Key<a class="headerlink" href="#codesys-usb-dongle-key" title="Permalink to this headline">#</a></h3>
<p>E’ possibile acquistare licenze per funzionalità aggiuntive come fieldbus, librerie, etc… direttamente dallo <a class="reference external" href="https://store.codesys.com/en">store on-line di Codesys</a>.</p>
<p>Per poter attivare la licenza è necessario l’acquisto della <a class="reference external" href="https://store.codesys.com/en/codesys-key.html">CODESYS Key</a> da inserire nella porta USB host di nX3.</p>
</section>
</section>
<section id="risorse-esterne">
<h2>Risorse Esterne<a class="headerlink" href="#risorse-esterne" title="Permalink to this headline">#</a></h2>
<p><a class="reference external" href="https://help.codesys.com/">CODESYS online help</a></p>
<p><a class="reference external" href="http://www.nexo.me">Sito neXo</a></p>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../../index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Welcome to nexo’s documentation!</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../../software/iot.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">nexo’s Industry 4.0</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By neXo<br/>
  
      &copy; Copyright 2022, neXo SrL.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>